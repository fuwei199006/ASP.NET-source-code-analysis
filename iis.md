### 服务器的监听(IIS6.0+版本)     

1. 当请求到达服务器时，请求最终会到达TCPIP.SYS驱动程序，TCPIP.SYS将请求转发给HTTP.SYS网络驱动程序的请求队列中（可以理解为专门处理http请求的进程），当然在处理请求的过程中，HTTP.SYS进程会维护一个配置表用缓存请求的url和和应用程序池对应的关系。   

2. 当一个http请求被捕获到，HTTP.SYS会读取配置表，如果对应的应用程序没有启动，则HTTP.SYS会启动相对应的应用程序。    

3. ![图片](2.png)      

4. HTTP.SYS这个程序运行在系统内核级的应用程序，所以运行级别和效率都高于一般的用户级应用程序。如果web网站的某部分资源请求比较频繁的话，HTTP.SYS会对资源进行缓存，进而节约了内核级程序到用户级程序的调用，提高效率节省资源。